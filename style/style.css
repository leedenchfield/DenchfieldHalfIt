
	body {
  	  font-family: "Segoe UI", "Roboto", sans-serif;
      padding: 20px;
      max-width: 900px;
      margin: auto;
      background-color: white;
      color: black;
      transition: background-color 0.3s, color 0.3s;
    }
    body.dark-mode {
      background-color: #111;
      color: #eee;
    }
    body.dark-mode input, body.dark-mode button, body.dark-mode select, body.dark-mode textarea {
      background-color: #333;
      color: #eee;
      border: 1px solid #555;
    }
    body.dark-mode #commandList {
      background: #222;
      color: #eee;
    }
    body.dark-mode .commandItem {
      background: #333;
      color: #eee;
      border-color: #555;
    }
    body.dark-mode #scoreboard {
      background: #1a1a2e;
      color: #eee;
    }
    body.dark-mode #historyArea {
      background: #1a2e1a;
      color: #eee;
    }
    body.dark-mode #gameArea {
      background-color: #1a2a4a;
      border-color: #4466cc;
      color: #eee;
    }
    input, button, select, textarea {
      font-size: 1em;
      padding: 8px;
      margin: 5px 0;
      width: 100%;
      box-sizing: border-box;
    }
    #playerButtons, #commandList, #scoreboard, #historyArea {
      margin-top: 20px;
      padding: 10px;
      border-radius: 5px;
    }
    #playerButtons button {
      margin: 5px 5px 5px 0;
      padding: 8px 12px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      background-color: #ccc;
      transition: background-color 0.3s;
    }
    #playerButtons button.selected {
      background-color: #0044cc;
      color: white;
      font-weight: bold;
      box-shadow: 0 0 5px #0044cc;
    }
    #playerButtons button.current-turn {
      border: 2px solid #ff9800;
    }
    #commandList {
      background: #f0f0f0;
      max-height: 200px;
      overflow-y: auto;
    }
    .commandItem {
      padding: 5px;
      border-bottom: 1px solid #ccc;
      position: relative;
    }
    .commandItem:last-child {
      border-bottom: none;
    }
	.commandItem {
	padding-right: 90px; /* space for buttons */
	position: relative;
	margin-bottom: 10px;
	background: #f0f0f0;
	border-radius: 5px;
	padding: 10px;
	}
	.commandItem::after {
	content: "";
	display: table;
	clear: both;
	}
	.commandItem .edit-btn, .commandItem .delete-btn {
	float: right;
	font-size: 0.8em;
	padding: 2px 6px;
	margin-left: 5px;
	border: none;
	border-radius: 3px;
	cursor: pointer;
	position: relative;
	z-index: 1;
	}
	.commandItem .edit-btn {
	background-color: #faa;
	}
	.commandItem .delete-btn {
	background-color: #fcc;
	}
    #scoreboard {
      background: #eef;
    }
    #scoreboard ul {
      list-style: none;
      padding-left: 0;
    }
    #scoreboard li {
      margin-bottom: 5px;
    }
    #historyArea {
      background: #efe;
      max-height: 200px;
      overflow-y: auto;
    }
    #historyArea ul {
      list-style: none;
      padding-left: 0;
      margin: 0;
    }
    #historyArea li {
      margin-bottom: 5px;
      font-size: 0.9em;
    }
    .fail-btn, .undo-btn, #submitScoreBtn, #startGameBtn {
      padding: 10px 20px;
      margin-top: 10px;
      cursor: pointer;
      border: none;
      border-radius: 5px;
      font-weight: bold;
      font-size: 1em;
    }
    .fail-btn {
      background-color: #d32f2f;
      color: white;
      margin-right: 10px;
    }
    .undo-btn {
      background-color: #673ab7;
      color: white;
      margin-left: 10px;
    }
    #submitScoreBtn {
      background-color: #4caf50;
      color: white;
      margin-top: 0;
    }
    #darkModeToggle, #toggleCommandList {
      margin: 10px 0;
      padding: 8px 15px;
      background-color: #444;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-weight: bold;
      width: auto;
    }
    #gameArea {
      margin-top: 20px;
      padding: 10px;
      border: 2px solid #0044cc;
      border-radius: 5px;
      background-color: #dbe9ff;
    }
    #currentTurnInfo {
      font-weight: bold;
      font-size: 1.2em;
      margin-bottom: 10px;
    }
    #currentChallengeText {
      font-size: 1.4em;
      margin-bottom: 10px;
      font-style: italic;
    }
    #categoryControls {
      margin-top: 20px;
      padding: 15px;
      border: 2px solid #666;
      border-radius: 5px;
      background-color: #f9f9f9;
    }
    body.dark-mode #categoryControls {
      background-color: #222;
      border-color: #555;
    }
	body.dark-mode .fail-btn {
	  background-color: #ff4444; /* bright red */
	  color: white;
	}
	body.dark-mode .undo-btn {
		background-color: #9575cd;
	}
	body.dark-mode #playerButtons button {
	  background-color: #444;
	  color: #eee;
	}
    .category-input {
      display: flex;
      align-items: center;
      margin-bottom: 10px;
    }
    .category-input label {
      min-width: 120px;
      font-weight: bold;
      margin-right: 10px;
    }
    .category-input input {
      width: 80px;
      margin: 0;
    }
    .category-summary {
      font-size: 0.9em;
      color: #666;
      margin-top: 10px;
    }
    body.dark-mode .category-summary {
      color: #aaa;
    }
    #gameActionButtons {
      display: flex;
      gap: 10px;
      align-items: center;
      margin-top: 10px;
    }
    #gameActionButtons button {
      margin: 0;
      width: auto;
    }
	.category-input button {
	  padding: 4px 8px;
	  font-size: 1em;
	  border: none;
	  background-color: #ccc;
	  cursor: pointer;
	  border-radius: 4px;
	}
	body.dark-mode .category-input button {
	  background-color: #555;
	  color: white;
	}
	#challengeCountControl button {
	  padding: 4px 8px;
	  font-size: 1em;
	  border: none;
	  border-radius: 4px;
	  background-color: #ccc;
	  cursor: pointer;
	}
	body.dark-mode #challengeCountControl button {
	  background-color: #555;
	  color: white;
	}
	button, input, select, textarea {
	  touch-action: manipulation;
	}
	.turn-flash {
	  position: fixed;
	  top: 0; left: 0;
	  width: 100%; height: 100%;
	  z-index: 9999;
	  pointer-events: none;
	  animation: flashFade 0.5s ease-out;
	}
	.turn-flash.success {
	  background: rgba(144, 238, 144, 0.4); /* light green */
	}
	.turn-flash.fail {
	  background: rgba(255, 99, 71, 0.4); /* light red/tomato */
	}
	@keyframes flashFade {
	  from { opacity: 1; }
	  to   { opacity: 0; }
	}
	/* Modal overlay */
	.modal {
	  position: fixed;
	  top: 0; left: 0; width: 100%; height: 100%;
	  background: rgba(0,0,0,0.6);
	  display: flex; align-items: center; justify-content: center;
	  z-index: 10000;
	}
	.modal.hidden {
	  display: none;
	}
	/* Modal content box */
	.modal-content {
	  background: #fff;
	  padding: 1.5rem;
	  border-radius: 8px;
	  box-shadow: 0 2px 8px rgba(0,0,0,0.2);
	  max-width: 320px;
	  width: 90%;
	  text-align: center;
	}
	body.dark-mode .modal-content {
	  background: #222;
	  color: #eee;
	}
	.turn-flash.explosion {
	  background: radial-gradient(circle at center, rgba(255, 0, 0, 0.7) 0%, transparent 60%);
	  animation: explodePulse 0.6s ease-out;
	}
	@keyframes explodePulse {
	  0% { opacity: 1; transform: scale(1); }
	  50% { opacity: 0.8; transform: scale(1.5); }
	  100% { opacity: 0; transform: scale(1); }
	}
	.hidden {
	display: none !important;
	}
	.toggle-group {
	display: flex;
	flex-direction: column;
	gap: 12px;
	margin-top: 10px;
	}

	.switch-label {
	display: flex;
	align-items: center;
	gap: 12px;
	font-weight: bold;
	cursor: pointer;
	position: relative;
	}

	.switch-label input[type="checkbox"] {
	width: 0;
	height: 0;
	opacity: 0;
	position: absolute;
	}

	.switch-slider {
	width: 40px;
	height: 20px;
	background-color: #ccc;
	border-radius: 12px;
	position: relative;
	transition: background-color 0.3s;
	}

	.switch-slider::before {
	content: "";
	position: absolute;
	top: 2px;
	left: 2px;
	width: 16px;
	height: 16px;
	background-color: white;
	border-radius: 50%;
	transition: transform 0.3s;
	}

	.switch-label input[type="checkbox"]:checked + .switch-slider {
	background-color: #4caf50;
	}

	.switch-label input[type="checkbox"]:checked + .switch-slider::before {
	transform: translateX(20px);
	}

	body.dark-mode .switch-slider {
	background-color: #555;
	}

	body.dark-mode .switch-label input[type="checkbox"]:checked + .switch-slider {
	background-color: #81c784;
	}

	.label-text {
	font-size: 1em;
	}

	/* Score Pop Effects */
	.score-pop {
	position: fixed;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%) scale(0);
	font-size: 4rem;
	font-weight: bold;
	color: #00ff99;
	opacity: 0;
	pointer-events: none;
	z-index: 999;
	text-align: center; 
	transition: transform 0.3s ease, opacity 0.3s ease;
	}

	.score-pop.show {
	transform: translate(-50%, -50%) scale(1);
	opacity: 1;
	}

	/* ðŸ”´ FAIL effect */
	.score-pop.fail {
	color: #ff3333;
	}

	.score-pop.joker {
	color: #aa00ff;
	text-shadow: 0 0 6px #dd99ff;
	}

	.score-pop.joker-fail {
	color: #880066;
	text-shadow: 0 0 5px #cc66aa;
	}

	.score-pop.hardcore {
	color: #ff0000;
	text-shadow: 0 0 10px #ff4444;
	animation: bombPulse 0.6s ease-out;
	}

	.score-pop.double-trouble {
	color: #ff8800;
	text-shadow: 0 0 10px #ffaa33;
	animation: doublePulse 0.4s ease-in-out;
	}

	.score-pop.mega-combo {
	color: #ffd700;
	font-size: 4.5rem;
	text-shadow: 0 0 10px #ffa500, 0 0 20px #ff4500;
	animation: megaBurst 0.5s ease-out;
	}

	.score-pop.streak {
	color: #ffcc00;
	text-shadow: 0 0 8px #ff6600;
	animation: streakPulse 0.5s ease-out;
	}

	@keyframes bombPulse {
	0% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
	50% { transform: translate(-50%, -50%) scale(1.5); opacity: 0.8; }
	100% { transform: translate(-50%, -50%) scale(0); opacity: 0; }
	}

	@keyframes doublePulse {
	0% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
	50% { transform: translate(-50%, -50%) scale(1.3); opacity: 0.9; }
	100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
	}

	@keyframes megaBurst {
	0% { transform: translate(-50%, -50%) scale(0.8); opacity: 0; }
	50% { transform: translate(-50%, -50%) scale(1.3); opacity: 1; }
	100% { transform: translate(-50%, -50%) scale(1); opacity: 0; }
	}

	@keyframes streakPulse {
	0% { transform: translate(-50%, -50%) scale(1); opacity: 0.5; }
	50% { transform: translate(-50%, -50%) scale(1.2); opacity: 1; }
	100% { transform: translate(-50%, -50%) scale(1); opacity: 0; }
	}
	/* Match input height & tighten spacing */
	.inline-control-group {
	display: flex;
	align-items: center;
	gap: 0; /* remove spacing between input and buttons */
	}

	.inline-control-group input[type="number"] {
	width: 60px;
	text-align: center;
	}
	.inline-control-group button {
	height: 36px;
	padding: 6px 10px;
	font-size: 1em;
	margin: 0;
	width: auto;
	box-sizing: border-box;
	}
	.inline-control-group label {
	margin-right: 10px;
	min-width: 180px;
	}
	body.dark-mode .inline-control-group button {
	background-color: #555;
	color: white;
}
